(this["webpackJsonptodo-list-for-ec-seminar"]=this["webpackJsonptodo-list-for-ec-seminar"]||[]).push([[0],{13:function(t,e,n){t.exports={todoLightGray:"#BCD1CE",todoGray:"#778583",todoWhite:"white",login:"login_login__2szb-",list:"login_list__3tooj",item:"login_item__2iqyr",button:"login_button__3pUKQ"}},14:function(t,e,n){t.exports={todoBlack:"#606B69",todoGray:"#778583",todoLightGray:"#BCD1CE",todoWhite:"white",form:"form_form__3Ypy3",addButton:"form_addButton__28Icm",addIcon:"form_addIcon__3hbZ3",addToggle:"form_addToggle__3NDyB",addForm:"form_addForm__1OnSr",input:"form_input__3hkfi",submit:"form_submit__1kqkI",closeForm:"form_closeForm__29hZY"}},20:function(t,e,n){t.exports={todoWhite:"white",todoBlack:"#606B69",todoGray:"#778583",header:"header_header__2kIYt",title:"header_title__3G460",logout:"header_logout__2xeq_"}},21:function(t,e,n){t.exports={todoBlack:"#606B69",todoGray:"#778583",todoWhite:"white",todoList:"todo_list_todoList__3bE9x",section:"todo_list_section__3-ucx",container:"todo_list_container__2V3Tv"}},24:function(t,e,n){t.exports={app:"app_app__2famu",clock:"app_clock__11Zqp"}},25:function(t,e,n){t.exports={todoWhite:"white",todoGray:"#778583",footer:"footer_footer__vi1Um",title:"footer_title__21CjJ"}},52:function(t,e,n){},78:function(t,e,n){"use strict";n.r(e);var o=n(0),c=n.n(o),a=n(38),r=n.n(a),s=(n(52),n(12)),i=n(24),u=n.n(i),d=n(45),l=n(2),h=n(39),p=n.n(h),f=n(40),j=n.n(f),b=n(25),_=n.n(b),m=n(1),x=function(t){return Object(m.jsx)("footer",{className:_.a.footer,children:Object(m.jsx)("p",{className:_.a.title,children:"design your todo list"})})},O=n(20),k=n.n(O),v=function(t){var e=t.onLogout;return Object(m.jsxs)("header",{className:k.a.header,children:[Object(m.jsx)("h1",{className:k.a.title,children:"Todo List"}),e&&Object(m.jsx)("button",{className:k.a.logout,onClick:function(){return e()},children:"Logout"})]})},g=n(13),y=n.n(g),T=function(t){var e=t.endlesscreation,n=Object(l.f)(),o=function(){n.push({pathname:"/todo_list"})};return Object(m.jsxs)("div",{className:y.a.login,children:[Object(m.jsx)(v,{}),Object(m.jsxs)("section",{children:[Object(m.jsx)("h1",{children:"login"}),Object(m.jsxs)("ul",{className:y.a.list,children:[Object(m.jsx)("li",{className:y.a.item,children:Object(m.jsx)(p.a,{clientId:"954862954850-pslni1bd961ob26q9dclg7jtkgbjcv5c.apps.googleusercontent.com",render:function(t){return Object(m.jsx)("button",{className:y.a.button,onClick:t.onClick,children:"Google \ub85c\uadf8\uc778"})},onSuccess:function(t){var n,c;n="google",c=t.tokenObj,e.postOauthToken(n,c).then((function(t){e.setAccessToken(t.accessToken),o()}))},onFailure:function(t){return console.log(t)},cookiePolicy:"single_host_origin"})}),Object(m.jsx)("li",{className:y.a.item,children:Object(m.jsx)(j.a,{className:y.a.button,buttonText:"GitHub \ub85c\uadf8\uc778",clientId:"e7ca395dfc763af09e9a",onSuccess:function(t){},onFailure:function(t){return console.log(t)},cookiePolicy:"single_host_origin",redirectUri:"".concat("https://api.dnatuna.fun","/oauth/github/callback")})}),Object(m.jsx)("li",{className:y.a.item,children:Object(m.jsx)("button",{className:y.a.button,onClick:function(){return e.login("guest").then(o)},children:"\uac8c\uc2a4\ud2b8 \ub85c\uadf8\uc778"})})]})]}),Object(m.jsx)(x,{})]})};var w=function(t,e){var n=Object(o.useRef)();Object(o.useEffect)((function(){n.current=t}),[t]),Object(o.useEffect)((function(){if(null!==e){var t=setInterval((function(){n.current()}),e);return function(){return clearInterval(t)}}}),[e])},N=n(14),C=n.n(N),B=n(16),L=function(t){t.onKeyPress;var e=t.onCreate,n=Object(o.useState)(!1),c=Object(s.a)(n,2),a=c[0],r=c[1],i=Object(o.useRef)(),u=function(){e(i.current.value),i.current.value=""},d=function(t){t.stopPropagation(),r(!a)};return document.body.onclick=function(){r(!1)},Object(m.jsxs)("div",{className:C.a.form,onClick:d,children:[Object(m.jsx)("button",{className:C.a.addButton,children:Object(m.jsx)(B.a,{className:"".concat(C.a.addIcon," ").concat(a&&C.a.addToggle)})}),a?Object(m.jsxs)("div",{className:C.a.addForm,children:[Object(m.jsx)("input",{ref:i,className:C.a.input,type:"text",name:"text",placeholder:"\ud560 \uc77c\uc744 \uc785\ub825\ud558\uc138\uc694",onKeyPress:function(t){"Enter"===t.key&&u()},autoFocus:!0,onClick:function(t){return t.stopPropagation()}}),Object(m.jsx)("button",{className:C.a.submit,onClick:u,children:"\ucd94\uac00"})]}):Object(m.jsx)("div",{className:C.a.closeForm,onClick:d,children:"Add Todo card"})]})},F=n(9),I=n.n(F),A=function(t){var e=t.id,n=t.description,c=t.isCompleted,a=t.onRemove,r=t.onToggle,i=t.onEdit,u=Object(o.useState)(!1),d=Object(s.a)(u,2),l=d[0],h=d[1],p=Object(o.useState)(n),f=Object(s.a)(p,2),j=f[0],b=f[1];return document.body.onclick=function(){h(!1)},Object(m.jsx)("div",{className:I.a.card,children:Object(m.jsxs)("div",{className:"".concat(I.a.todoItem," ").concat(c&&I.a.isCompleted),onClick:function(){return r(e,c)},children:[Object(m.jsx)("div",{className:I.a.checkBox,children:c&&Object(m.jsx)(B.c,{})}),l?Object(m.jsx)("div",{className:I.a.editForm,children:Object(m.jsx)("input",{className:I.a.editForm,value:j,onKeyPress:function(t){"Enter"===t.key&&(i(e,j),h(!1))},onChange:function(t){return b(t.target.value)},autoFocus:!0})}):Object(m.jsx)("p",{className:I.a.description,children:n}),Object(m.jsx)("div",{className:I.a.edit,onClick:function(t){t.stopPropagation(),h(!l)},children:Object(m.jsx)(B.d,{})}),Object(m.jsx)("div",{className:I.a.remove,onClick:function(t){t.stopPropagation(),a(e)},children:Object(m.jsx)(B.b,{})})]})})},R=n(21),U=n.n(R),E=function(t){var e=t.endlesscreation,n=Object(o.useState)([]),c=Object(s.a)(n,2),a=c[0],r=c[1],i=Object(l.f)();Object(o.useEffect)((function(){e.getTodoList().then((function(t){return r(t)}))}),[e]);var u=function(){e.getTodoList().then((function(t){return r(t)}))},d=function(t){e.deleteTodo(t).then((function(){return u()}))},h=function(t,n){var o={id:t,title:"title",description:n,writer:"\ud669\uc778\uc11c"};e.patchTodo(o).then((function(){return u()}))},p=function(t,n){e.patchTodoComplete(t,!n).then((function(){return u()}))};return Object(m.jsxs)("div",{className:U.a.todoList,children:[Object(m.jsx)(v,{onLogout:function(){e.setAccessToken(""),i.push({pathname:"/"})}}),Object(m.jsxs)("section",{className:U.a.section,children:[Object(m.jsx)("div",{className:U.a.container,children:a.map((function(t){return Object(m.jsx)(A,{id:t.id,description:t.description,isCompleted:t.isCompleted,onToggle:p,onRemove:d,onEdit:h},t.id)}))}),Object(m.jsx)(L,{onCreate:function(t){var n={title:"title",description:t,writer:"\ud669\uc778\uc11c"};e.postTodoList(n).then((function(){return u()}))}})]})]})},G=n(41),P=n.n(G),S=function(t){var e=t.endlesscreation,n=Object(o.useState)(new Date),c=Object(s.a)(n,2),a=c[0],r=c[1];return w((function(){r(new Date)}),1e4),Object(m.jsxs)("div",{className:u.a.app,children:[Object(m.jsx)(P.a,{className:u.a.clock,hours:a.getHours(),minutes:a.getMinutes(),numbers:!0,size:"25vh"}),Object(m.jsx)(d.a,{basename:"/todo_list_for_react_seminar",children:Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",children:Object(m.jsx)(T,{endlesscreation:e})}),Object(m.jsx)(l.a,{path:"/todo_list",children:Object(m.jsx)(E,{endlesscreation:e})})]})})]})},z=n(4),W=n.n(z),D=n(10),q=n(46),J=n(47),K=n(11),M=n.n(K),Q=new(function(){function t(){Object(q.a)(this,t),this.baseURL="https://api.dnatuna.fun",this.accessToken=""}return Object(J.a)(t,[{key:"setAccessToken",value:function(t){this.accessToken=t}},{key:"login",value:function(){var t=Object(D.a)(W.a.mark((function t(e){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M()({method:"get",url:"".concat(this.baseURL,"/oauth/").concat(e)});case 2:return n=t.sent,this.setAccessToken(n.data.accessToken),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"githubLogin",value:function(){var t=Object(D.a)(W.a.mark((function t(e){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M()({method:"post",url:"https://github.com/login/oauth/access_token",params:{client_id:"fabf00d37c1112717968",client_secret:"37e18fd18c19ceff1eb7af5ddfe63a6300cd580d",code:e,redirect_uri:"http://localhost:3000/todo_list_for_react_seminar/"}});case 2:return n=t.sent,this.setAccessToken(n.data.accessToken),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"postOauthToken",value:function(){var t=Object(D.a)(W.a.mark((function t(e,n){var o;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M()({method:"post",url:"".concat(this.baseURL,"/oauth/").concat(e),data:{token_type:n.token_type,access_token:n.access_token,scope:n.scope,expires_in:n.expires_in,id_token:n.id_token,expires_at:n.expires_at}});case 2:return o=t.sent,t.abrupt("return",o.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"postTodoList",value:function(){var t=Object(D.a)(W.a.mark((function t(e){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M()({method:"post",url:"".concat(this.baseURL,"/todos"),headers:{Authorization:"Bearer ".concat(this.accessToken)},data:{title:e.title,description:e.description,writer:e.writer}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getTodoList",value:function(){var t=Object(D.a)(W.a.mark((function t(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M()({method:"get",url:"".concat(this.baseURL,"/todos"),headers:{Authorization:"Bearer ".concat(this.accessToken)}});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getTodo",value:function(){var t=Object(D.a)(W.a.mark((function t(e){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M()({method:"get",url:"".concat(this.baseURL,"/todos/").concat(e),headers:{Authorization:"Bearer ".concat(this.accessToken)}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"patchTodo",value:function(){var t=Object(D.a)(W.a.mark((function t(e){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M()({method:"patch",url:"".concat(this.baseURL,"/todos/").concat(e.id),headers:{Authorization:"Bearer ".concat(this.accessToken)},data:{title:e.title,description:e.description,writer:e.writer}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"patchTodoComplete",value:function(){var t=Object(D.a)(W.a.mark((function t(e,n){var o;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M()({method:"patch",url:"".concat(this.baseURL,"/todos/").concat(e,"/complete"),headers:{Authorization:"Bearer ".concat(this.accessToken)},data:{isCompleted:n}});case 2:return o=t.sent,t.abrupt("return",o);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"deleteTodo",value:function(){var t=Object(D.a)(W.a.mark((function t(e){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M()({method:"delete",url:"".concat(this.baseURL,"/todos/").concat(e),headers:{Authorization:"Bearer ".concat(this.accessToken)}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}());r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(S,{endlesscreation:Q})}),document.getElementById("root"))},9:function(t,e,n){t.exports={todoWhite:"white",todoGray:"#778583",todoLightGray:"#BCD1CE",todoBlack:"#606B69",card:"todo_item_card__-Px6s",todoItem:"todo_item_todoItem__ey3-_",isCompleted:"todo_item_isCompleted__3yrJC",checkBox:"todo_item_checkBox__2Qg9f",description:"todo_item_description__FOWpj",editForm:"todo_item_editForm__1kU-o",edit:"todo_item_edit__1iMAQ",remove:"todo_item_remove__3CB_d"}}},[[78,1,2]]]);
//# sourceMappingURL=main.0c9323b3.chunk.js.map